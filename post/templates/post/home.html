{% extends 'base.html' %}

{% block content %}

<div class="my-4">
    <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
        <div class="carousel-inner">
            {% if posts.featured %}
            {% for post in posts %}
            <div class="carousel-item active">
                <img class="d-block w-100" src="{{ post.thumb.url }}" alt="First slide">
            </div>
            {% endfor %}
            {% endif %}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
<div class="col-md-8">
    {% if posts %}
    {% for post in posts %}
    <section class="my-4">

        <div class="card p-4">
            <div class="row">

                <div class="col-lg-5">

                    <div class="view overlay rounded z-depth-2 mb-lg-0 mb-4">
                        <img class="img-fluid" src="{{ post.thumb.url }}" alt="Sample image">
                        <a href="{% url 'post:post-detail' post.slug %}">
                            <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>

                </div>
                <div class="col-lg-7">

                    <a href="#!" class="green-text">
                        <h6 class="font-weight-bold mb-3"><a
                                href="{% url 'post:category' post.category.slug %}">{{ post.category }}</a></h6>
                    </a>

                    <h3 class="font-weight-bold mb-3"><strong>{{ post.title }}</strong></h3>

                    <p>{{ post.snippet|safe }}</p>

                    <p>by <a
                            href="{% url 'user-post' post.author.username %}"><strong>{{post.author|capfirst}}</strong></a>,
                        {{ post.created_at|date:"F d, Y" }}</p>

                    <a href="{% url 'post:post-detail' post.slug %}" class="btn btn-success btn-md">Read more</a>
                </div>
            </div>
        </div>

    </section>
    {% endfor %}
    {% else %}
    <h3 class="display-4">There are no posts yet</h3>
    {% endif %}

    <!-- Pagination -->
    <ul class="pagination justify-content-center mb-4">
        <li class="page-item">
            <a class="page-link" href="#">&larr; Older</a>
        </li>
        <li class="page-item disabled">
            <a class="page-link" href="#">Newer &rarr;</a>
        </li>
    </ul>

</div>
{% endblock %}



<div class="carousel-inner">
    {% if featured %}
    {% for post in posts|slice:":3" %}
    {% if forloop.first %}
    <div class="active item">
        {% else %}
        <div class="item">
            {% endif %}
            <label>{{ post.title }}</label>
            <div class="carousel-caption">
                <h3 class="h3-responsive">Light mask</h3>
                <p>First text</p>
            </div>
        </div>
        {% endfor %}
        {% endif %}
    </div>
</div>